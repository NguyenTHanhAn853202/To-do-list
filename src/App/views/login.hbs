<div aria-live="polite" aria-atomic="true" class="bg-dark position-relative bd-example-toasts">
  <div class="toast-container position-absolute top-0 end-0 p-3" id="toastPlacement">
      <div class="toast {{ifClass show 'show' ''}} login__toast bg-warning  fs-4 align-items-center" role="alert" aria-live="assertive" aria-atomic="true">
      <div class="d-flex">
        <div class="toast-body">
          {{ifClass show 'Tài khoản hoặc mật khẩu không đúng' 'Chưa nhập tài khoản hoặc mật khẩu.' }}
      </div>
        <button type="button" class="btn-close me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
      </div>
    </div>
  </div>
</div>
<div class="container login__container">
  <div class="row justify-content-center" >
    <form action="/login" method="post" name="login__form"  class="col-5 ">
      <h1>Đăng nhập</h1>
      <div class="mb-3">
        <label for="login__email" class="form-label">Tài khoản</label>
        <input type="text" name="email" class="form-control" id="login__email">
      </div>
      <div class="mb-3">
        <label for="login__password" class="form-label">Mật khẩu</label>
        <input type="password" name="password" class="form-control" id="login__password">
      </div>
      <button type="submit" class="btn btn-primary">Đăng nhập</button>
    </form>
  </div>
</div>
<script module="angular">
  const formLogin  = document.forms['login__form']
  const userName = document.querySelector('#login__email')
  const password = document.querySelector('#login__password')
  const toast = document.querySelector('.login__toast')
  let idTimeout = null;
  setTimeout(()=>{
    if(toast.getAttribute('class').includes('show')) toast.classList.remove('show')
  },3000)
  clearTimeout(idTimeout)
  formLogin.onsubmit = function(e) {
    e.preventDefault();
    if(idTimeout){
      clearTimeout(idTimeout);
    }
    if(userName.value ==='' || password.value ===''){
      toast.classList.add('show')
      id = setTimeout(()=>{
        toast.classList.remove('show')
      },3000)
    }
    else{
      formLogin.submit();
    }
  }
</script>
